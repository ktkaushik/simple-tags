!function(a){a.fn.tags=function(c){var d=a(this),e="<div class='simple-tags-block'> <input type='text' class='simple-tag-input' placeholder='add tags'> </div>";d.css("display","none"),a(e).insertAfter(this),$input=d.siblings().find(".simple-tag-input");new b(d,$input,c)};var b=function(b,c,d){this.$el=b,this.$input=c,this.opts=d;var e=this;this.$input.keydown(function(a){e.keyDown(a)}),a(document).on("click",".remove-simple-tag",function(b){e.removeTagClick(a(".remove-simple-tag").index(this))})};b.prototype.keyDown=function(b){if((13===b.which||9===b.which)&&(b.preventDefault(),""!==a(b.target).val())){if(this.$el.val().length>0){var c=this.$el.val(),d=c.split(",");d[d.length]=a(b.target).val(),this.$el.val(d.join(","))}else this.$el.val(a(b.target).val());this.createTag(b)}if(8===b.which&&""===a(b.target).val()){var e=a(b.target).siblings(".simple-tag:last");e.text();e.hasClass("tag-select")?(e.remove(),this.removeTagValue()):e.addClass("tag-select")}},b.prototype.removeTagClick=function(b){a(event.target).parents(".simple-tag").text();a(event.target).parents(".simple-tag").remove(),this.removeTagValue(b)},b.prototype.removeTagValue=function(a){var b=this.$el.val().split(",");a||(a=b.length-1);var c=b.slice(0,a),d=b.slice(a+1,b.length);this.$el.val(c.concat(d))},b.prototype.createTag=function(b){var c=a(b.target),d="<span class='simple-tag'>"+c.val()+"<span><a class='remove-simple-tag' href='#'>x</a></span></span>";a(d).insertBefore(this.$input),this.$input.val("")}}(jQuery);